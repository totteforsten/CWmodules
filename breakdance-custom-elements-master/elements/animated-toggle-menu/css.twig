{# Animated Toggle Menu CSS #}

/* Wrapper */
%%SELECTOR%% .atm-wrapper {
  position: relative;
  display: inline-block;
  {% if design.spacing.margin_top %}
  {{ macros.margin_top(design.spacing.margin_top) }}
  {% endif %}
  {% if design.spacing.margin_bottom %}
  {{ macros.margin_bottom(design.spacing.margin_bottom) }}
  {% endif %}
}

/* Toggle Button */
%%SELECTOR%% .atm-toggle {
  position: relative;
  {% if design.toggle_button.size %}
  {{ macros.width(design.toggle_button.size) }}
  {{ macros.height(design.toggle_button.size) }}
  {% else %}
  width: 50px;
  height: 50px;
  {% endif %}
  border: none;
  cursor: pointer;
  z-index: 1001;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.3s ease;
  {% if design.toggle_button.background %}
  background-color: {{ design.toggle_button.background }};
  {% else %}
  background-color: #fff;
  {% endif %}
  {% if design.toggle_button.radius %}
  {{ macros.border_radius(design.toggle_button.radius) }}
  {% else %}
  border-radius: 8px;
  {% endif %}
  {% if design.toggle_button.shadow %}
  {{ macros.box_shadow(design.toggle_button.shadow) }}
  {% else %}
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  {% endif %}
}

%%SELECTOR%% .atm-toggle:hover {
  {% if design.toggle_button.background_hover %}
  background-color: {{ design.toggle_button.background_hover }};
  {% endif %}
}

/* Icon Container */
%%SELECTOR%% .atm-icon {
  position: relative;
  {% if design.toggle_button.icon_size %}
  {{ macros.width(design.toggle_button.icon_size) }}
  {{ macros.height(design.toggle_button.icon_size) }}
  {% else %}
  width: 24px;
  height: 24px;
  {% endif %}
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

/* Icon Lines */
%%SELECTOR%% .atm-icon-line {
  position: absolute;
  width: 100%;
  height: 2px;
  {% if design.toggle_button.icon_color %}
  background-color: {{ design.toggle_button.icon_color }};
  {% else %}
  background-color: #000;
  {% endif %}
  transition: all 0.3s ease;
}

/* Hamburger Icon (default) */
%%SELECTOR%% .atm-toggle--hamburger .atm-icon-line:nth-child(1) {
  top: 25%;
}

%%SELECTOR%% .atm-toggle--hamburger .atm-icon-line:nth-child(2) {
  top: 50%;
  transform: translateY(-50%);
}

%%SELECTOR%% .atm-toggle--hamburger .atm-icon-line:nth-child(3) {
  bottom: 25%;
}

/* Hamburger to X Animation */
%%SELECTOR%% .atm-toggle--hamburger.is-open .atm-icon-line:nth-child(1) {
  top: 50%;
  transform: translateY(-50%) rotate(45deg);
}

%%SELECTOR%% .atm-toggle--hamburger.is-open .atm-icon-line:nth-child(2) {
  opacity: 0;
}

%%SELECTOR%% .atm-toggle--hamburger.is-open .atm-icon-line:nth-child(3) {
  bottom: 50%;
  transform: translateY(50%) rotate(-45deg);
}

/* Plus Icon */
%%SELECTOR%% .atm-toggle--plus .atm-icon-line:nth-child(1) {
  top: 50%;
  transform: translateY(-50%);
}

%%SELECTOR%% .atm-toggle--plus .atm-icon-line:nth-child(2) {
  top: 50%;
  transform: translateY(-50%) rotate(90deg);
}

%%SELECTOR%% .atm-toggle--plus .atm-icon-line:nth-child(3) {
  display: none;
}

/* Plus to X Animation */
%%SELECTOR%% .atm-toggle--plus.is-open .atm-icon-line:nth-child(1) {
  transform: translateY(-50%) rotate(45deg);
}

%%SELECTOR%% .atm-toggle--plus.is-open .atm-icon-line:nth-child(2) {
  transform: translateY(-50%) rotate(-45deg);
}

/* Content Container - Positioned next to toggle */
%%SELECTOR%% .atm-content {
  position: absolute;
  top: 0;
  z-index: 999;
  pointer-events: none;
  opacity: 0;

  {# Direction: left or right of toggle #}
  {% if design.children_layout.direction == 'right' %}
  left: 100%;
  right: auto;
  margin-left: 10px;
  {% else %}
  right: 100%;
  left: auto;
  margin-right: 10px;
  {% endif %}
}

%%SELECTOR%% .atm-content.is-open {
  pointer-events: auto;
  opacity: 1;
}

/* Containers Wrapper - Uses LayoutV2 preset */
%%SELECTOR%% .atm-containers {
  {% if design.children_layout.width.number is defined %}
  width: {{ design.children_layout.width.number }}{{ design.children_layout.width.unit }};
  {% endif %}
  {% if design.children_layout.layout %}
  {{ macros.layout(design.children_layout.layout) }}
  {% else %}
  display: flex;
  flex-direction: column;
  {% endif %}
  {% if design.children_layout.gap %}
  {{ macros.gap(design.children_layout.gap) }}
  {% else %}
  gap: 20px;
  {% endif %}
  max-height: 80vh;
  overflow-y: auto;
}

/* Individual Container Styling */
%%SELECTOR%% .atm-containers > * {
  opacity: 0;
  transform: translateY(-20px);
  {% if design.children_layout.padding %}
  {{ macros.padding(design.children_layout.padding) }}
  {% endif %}
  {% if design.children_layout.background %}
  background-color: {{ design.children_layout.background }};
  {% endif %}
  {% if design.children_layout.radius %}
  {{ macros.border_radius(design.children_layout.radius) }}
  {% endif %}
}

/* Backdrop */
%%SELECTOR%% .atm-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 998;
  opacity: 0;
  pointer-events: none;
  {% if design.backdrop.color %}
  background-color: {{ design.backdrop.color }};
  {% else %}
  background-color: rgba(0, 0, 0, 0.5);
  {% endif %}
  {% if design.backdrop.blur %}
  backdrop-filter: blur({{ design.backdrop.blur.number }}{{ design.backdrop.blur.unit }});
  -webkit-backdrop-filter: blur({{ design.backdrop.blur.number }}{{ design.backdrop.blur.unit }});
  {% endif %}
}

%%SELECTOR%% .atm-backdrop.is-active {
  pointer-events: auto;
}
