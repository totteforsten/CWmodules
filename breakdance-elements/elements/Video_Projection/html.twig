<div class="cw-video-projection-wrapper">
    <canvas class="cw-video-projection-canvas" data-current="{{ content.default_projection ?? content.projections[0].id ?? 'projection-1' }}"></canvas>

    {% if design.buttons.show_buttons and content.projections|length > 1 %}
    <div class="cw-video-projection-buttons" data-position="{{ design.buttons.button_position ?? 'bottom-center' }}">
        {% for projection in content.projections %}
        <button
            class="cw-video-projection-btn{% if loop.first %} active{% endif %}"
            data-id="{{ projection.id }}"
            data-color="{{ projection.theme_color ?? '#333333' }}"
            aria-label="{{ projection.label }}"
            title="{{ projection.label }}"
        >
            {% if projection.button_icon == 'heart' %}
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
            {% elseif projection.button_icon == 'star' %}
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
            {% elseif projection.button_icon == 'circle' %}
            <svg viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="10"/></svg>
            {% elseif projection.button_icon == 'square' %}
            <svg viewBox="0 0 24 24" fill="currentColor"><rect x="3" y="3" width="18" height="18" rx="2"/></svg>
            {% elseif projection.button_icon == 'play' %}
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
            {% elseif projection.button_icon == 'diamond' %}
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 12l10 10 10-10z"/></svg>
            {% elseif projection.button_icon == 'triangle' %}
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 22h20z"/></svg>
            {% elseif projection.button_icon == 'custom' and projection.custom_icon_svg %}
            {{ projection.custom_icon_svg|raw }}
            {% else %}
            <svg viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="10"/></svg>
            {% endif %}
        </button>
        {% endfor %}
    </div>
    {% endif %}
</div>
