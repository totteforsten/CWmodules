<div class="cw-image-reveal-wrapper">
    <canvas class="cw-image-reveal-canvas"></canvas>

    {% if content.mode == 'gallery' and content.images|length > 1 %}
        {% if design.navigation.show_dots %}
        <div class="cw-image-reveal-dots cw-dots-{{ design.navigation.dots_position ?? 'bottom-center' }}"></div>
        {% endif %}

        {% if design.navigation.show_arrows %}
        <button class="cw-image-reveal-arrow cw-image-reveal-prev" aria-label="Previous">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
        </button>
        <button class="cw-image-reveal-arrow cw-image-reveal-next" aria-label="Next">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
        </button>
        {% endif %}
    {% endif %}

    {% set hasImage = (content.mode == 'gallery' and content.images|length > 0) or (content.mode != 'gallery' and content.image) %}
    {% if not hasImage %}
    <div class="cw-image-reveal-placeholder">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <rect x="3" y="3" width="18" height="18" rx="2"/>
            <circle cx="8.5" cy="8.5" r="1.5"/>
            <path d="M21 15l-5-5L5 21"/>
        </svg>
        <span>{% if content.mode == 'gallery' %}Add images to the gallery{% else %}Select an image{% endif %}</span>
    </div>
    {% endif %}
</div>
